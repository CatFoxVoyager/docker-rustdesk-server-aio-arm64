version: '3.8'

services:
  rustdesk-server:
    image: splendid3002/rustdesk-server-aio-arm64:latest
    container_name: rustdesk-server-aio
    ports:
      - "21115:21115"
      - "21116:21116"
      - "21116:21116/udp"
      - "21117:21117"
      - "21118:21118"
      - "21119:21119"
    environment:
      # RustDesk configuration
      - RELAY_SERVER=192.168.1.100  # Change to your server's IP or hostname
      - KEY=_                        # Use _ to auto-generate, or set your own key

      # Optional: Enable/disable services (default: both enabled)
      # - HBBS_ENABLED=true
      # - HBBR_ENABLED=true

      # Optional: User permissions
      # - UID=99
      # - GID=100
      # - DATA_PERM=770
      # - UMASK=000
    volumes:
      - ./data:/rustdesk-server
    restart: unless-stopped
